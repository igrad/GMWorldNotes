<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
      <title>GM World Notes</title>

      <link id="link_theme" rel="stylesheet" href="themes/default_dark.css">
      <link rel="stylesheet" href="css/main.css">
      <link rel="stylesheet" href="css/lower_shelf.css">
      <link rel="stylesheet" href="css/generated-fonts.css">
      <link rel="stylesheet" href="css/dialog.css">


      <script>
         if (typeof module === 'object') {
            window.module = module;
            module = undefined;
         }
      </script>

      <!-- Import jQuery -->
      <script src="js/jquery.js"></script>

      <script>
         if (window.module) module = window.module;
      </script>

      <!-- Import other javascript files -->
      <script src="js/objecttree.js"></script>
      <script src="js/dialog.js"></script>
      <script src="js/right-click-menus.js"></script>
      <script src="js/lower-shelf.js"></script>
      <script src="js/treeview.js"></script>
      <script src="js/index.js"></script>
      <script src="js/DataStore.js"></script>
      <script src="js/Notebook.js"></script>
      <script src="js/load.js"></script>
      <script src="js/text-manip.js"></script>
   </head>
   <body onmousemove="ResizingTreeView(event)" onmouseup="DoneResizingTreeView(event)">
      <div id="shelf_view">
         <div id="upper_shelf">
            <!-- This area contains the upper portion of the shelf, including the
            buttons for each option on the shelf. -->
            <div id="upper_shelf_btn_file" class="upper_shelf_btn"
            onmouseover="ShelfHover(this)" onmouseout="ShelfLeaveHover(this)"
            onclick="ShelfSwitch(this)" frame="menu_file">File</div>
            <div id="upper_shelf_btn_text" class="upper_shelf_btn"
            onmouseover="ShelfHover(this)" onmouseout="ShelfLeaveHover(this)"
            onclick="ShelfSwitch(this)" frame="menu_text">Text</div>
            <div id="upper_shelf_btn_insert" class="upper_shelf_btn"
            onmouseover="ShelfHover(this)" onmouseout="ShelfLeaveHover(this)"
            onclick="ShelfSwitch(this)" frame="menu_insert">Insert</div>
            <div id="upper_shelf_btn_share" class="upper_shelf_btn"
            onmouseover="ShelfHover(this)" onmouseout="ShelfLeaveHover(this)"
            onclick="ShelfSwitch(this)" frame="menu_share">Share</div>
            <div id="upper_shelf_btn_templates" class="upper_shelf_btn"
            onmouseover="ShelfHover(this)" onmouseout="ShelfLeaveHover(this)"
            onclick="ShelfSwitch(this)" frame="menu_templates">Templates</div>

            <div id="upper_shelf_move_bar" style="-webkit-app-region:drag"></div>

            <div id="upper_shelf_btn_min" class="upper_shelf_btn window_btn" onclick="MinimizeWindow()">
               <svg id="UpperShelfMinimizeIcon" width="16" height="16" viewBox="0 0 16 16"><rect fill="currentColor" width="12" height="2" x="2" y="8"></rect></svg></div>
            <div id="upper_shelf_btn_max" class="upper_shelf_btn window_btn" onclick="MaximizeWindow()">
               <svg id="UpperShelfMaximizeIcon" width="16" height="16" viewBox="0 0 16 16"><rect fill="none" stroke="currentColor" width="12" height="12" x="2" y="2" stroke-width="2"></rect></svg></div>
            <div id="upper_shelf_btn_exit" class="upper_shelf_btn window_btn" onclick="ExitApplication()">
               <svg id="UpperShelfExitIcon" width="16" height="16" viewBox="0 0 16 16">
                  <line x1="2" y1="2" x2="14" y2="14" stroke="currentColor" stroke-width="2"></line>
                  <line x1="14" y1="2" x2="2" y2="14" stroke="currentColor" stroke-width="2"></line>
               </svg></div>
         </div>



         <div id="lower_shelf_viewport">
            <!-- Contains the options of the selected shelf option. -->
            <div class="lower_shelf_menu" id="menu_file">
               <!-- Notebook Button -->
               <button type="button" class="button_light bgb_left" id="menu_file_notebook_btn" onclick="ToggleDD(this)">
                  <div style="display: inline-block; word-wrap: none; text-align: center;">Notebook</div>
               </button>

               <div id="dd_notebook" class="drop_down" isOpen="false" selectedIndex="fsb-1" owner="menu_file_notebook_btn">
                  <div id="fsb-1" class="menu_file_notebook_dd_opt_btn" onClick='CreateNewNotebook(this)'>
                     <div id="fsb-ex-1" class="menu_file_notebook_dd_opt_ex">New</div>
                  </div>
                  <div id="fsb-2" class="menu_file_notebook_dd_opt_btn" onClick='ShowNotebookDetails(this)'>
                     <div id="fsb-ex-2" class="menu_file_notebook_dd_opt_ex">Details</div>
                  </div>
                  <div id="fsb-3" class="menu_file_notebook_dd_opt_btn" onClick='RenameNotebook(this)'>
                     <div id="fsb-ex-3" class="menu_file_notebook_dd_opt_ex">Rename</div>
                  </div>
                  <div id="fsb-4" class="menu_file_notebook_dd_opt_btn" onClick='DeleteNotebook(this)'>
                     <div id="fsb-ex-4" class="menu_file_notebook_dd_opt_ex">Delete</div>
                  </div>
               </div>

               <!-- Print Button -->


               <!-- Settings Button -->


               <!-- About Button -->
            </div>


            <div class="lower_shelf_menu" id="menu_text">
               <!-- Button template
               <button type="button" class="button_light" id="menu_text_XXXXX_btn">
                  <div style="display:inline-block">XXXX</div>
               </button> -->
               <div id="menu_text_1">
                  <button type="button" class="button_light text_left bgb_top" id="menu_text_cut_btn" onclick="document.execCommand('cut')">
                     <div style="display:inline-block">Cut</div>
                  </button>
                  <button type="button" class="button_light text_left bgb_midv" id="menu_text_copy_btn" onclick="document.execCommand('copy')">
                     <div style="display:inline-block">Copy</div>
                  </button>
                  <button type="button" class="button_light text_left bgb_bottom" id="menu_text_paste_btn" onclick="document.execCommand('paste')">
                     <div style="display:inline-block">Paste</div>
                  </button>
               </div>

               <div id="menu_text_2">
                  <!-- Font styling -->
                  <!-- BOLD -->
                  <button type="button" class="button_light bgb_left" id="menu_text_bold_btn" onclick="ChangeStyle(this)">
                     <div style="display:inline-block;font-weight:bold">
                        B
                     </div>
                  </button>
                  <!-- ITALIC -->
                  <button type="button" class="button_light bgb_midh" id="menu_text_italic_btn" onclick="ChangeStyle(this)">
                     <div style="display:inline-block;font-style:italic">
                        I
                     </div>
                  </button>
                  <!-- UNDERLINE -->
                  <button type="button" class="button_light bgb_midh" id="menu_text_uline_btn" onclick="ChangeStyle(this)">
                     <div style="display:inline-block;text-decoration:underline">
                        U
                     </div>
                  </button>
                  <!-- STRIKETHROUGH -->
                  <button type="button" class="button_light bgb_right" id="menu_text_strike_btn" onclick="ChangeStyle(this)">
                     <div style="display:inline-block;text-decoration:line-through">
                        S
                     </div>
                  </button>
                  <!-- DROPDOWN -->
                  <button type="button" class="button_light half_width bgb_right" id="menu_text_style_btn" onclick="ToggleDD(this)" dropmenu="dd_style">
                     <div style="display:inline-block">▿</div>
                  </button>

                  <div class="grid_spacer"></div>

                  <!-- Font color & Highlight -->
                  <button type="button" class="button_light bgb_left" id="menu_text_fcolor_btn" onclick="ChangeStyle(this)">
                     <div id="text_color" style="display: inline-block; box-shadow: inset 0 -2px 0 black;" setColor="currentColor">A</div>
                  </button>
                  <button type="button" class="button_light bgb_right" id="menu_text_bcolor_btn" onclick="ChangeStyle(this)">
                     <div id="highlight_color" style="display: inline-block; padding: 2px" setColor="currentColor">A</div>
                  </button>

                  <div class="grid_spacer"></div>

                  <!-- Lists -->
                  <button type="button" class="button_light bgb_left" id="menu_text_list_btn" onClick="ChangeStyle(this)">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                        <path fill="currentColor" d="M6 1h10v2h-10v-2zM6 7h10v2h-10v-2zM6 13h10v2h-10v-2zM0 2c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2s-2-0.895-2-2zM0 8c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2s-2-0.895-2-2zM0 14c0-1.105 0.895-2 2-2s2 0.895 2 2c0 1.105-0.895 2-2 2s-2-0.895-2-2z"></path>
                     </svg>
                  </button>
                  <button type="button" class="button_light bgb_midh" id="menu_text_numlist_btn" onClick="ChangeStyle(this)">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                     <path fill="currentColor" d="M6 13h10v2h-10zM6 7h10v2h-10zM6 1h10v2h-10zM3 0v4h-1v-3h-1v-1zM2 8.219v0.781h2v1h-3v-2.281l2-0.938v-0.781h-2v-1h3v2.281zM4 11v5h-3v-1h2v-1h-2v-1h2v-1h-2v-1z"></path>
                     </svg>
                  </button>

                  <!-- Indent/outdent -->
                  <button type="button" class="button_light bgb_midh" id="menu_text_tabinc_btn" onclick="document.execCommand('indent')">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                        <path fill="currentColor" d="M0 1h16v2h-16zM6 4h10v2h-10zM6 7h10v2h-10zM6 10h10v2h-10zM0 13h16v2h-16zM0 11v-6l4 3z"></path>
                     </svg>
                  </button>
                  <button type="button" class="button_light bgb_right" id="menu_text_tabdec_drop_btn" onclick="document.execCommand('outdent')">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                     <path fill="currentColor" d="M0 1h16v2h-16zM6 4h10v2h-10zM6 7h10v2h-10zM6 10h10v2h-10zM0 13h16v2h-16zM4 5v6l-4-3z"></path>
                     </svg>
                  </button>



                  <div class="grid_spacer_h"></div>

                  <!-- Font family drop-down -->
                  <button type="button" class="button_light bgb_left" id="menu_text_fontfamily_btn" onclick="ToggleDD(this)" dropmenu="dd_font_fam">
                     <div style="display: inline-block; word-wrap: none; padding-left: 6px; text-align: left;">Arial</div>
                  </button>
                  <button type="button" class="button_light half_width bgb_right" id="menu_text_fontfamily_drop_btn" onclick="ToggleDD(this)" dropmenu="dd_font_fam">
                     <div style="display:inline-block">▿</div>
                  </button>

                  <div class="grid_spacer"></div>

                  <!-- Font size -->
                  <button type="button" class="button_light bgb_left" id="menu_text_size_btn" onclick="ToggleDD(this)" dropmenu="dd_font_size">
                     <div style="display:inline-block">3</div>
                  </button>
                  <button type="button" class="button_light half_width bgb_right" id="menu_text_size_drop_btn" onclick="ToggleDD(this)" dropmenu="dd_font_size">
                     <div style="display:inline-block">▿</div>
                  </button>

                  <div class="grid_spacer"></div>

                  <!-- Font alignment -->
                  <button type="button" class="button_light bgb_left" id="menu_text_alignleft_btn" onclick="document.execCommand('justifyLeft')">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                        <path fill="currentColor" d="M0 1h16v2h-16zM0 4h10v2h-10zM0 10h10v2h-10zM0 7h16v2h-16zM0 13h16v2h-16z"></path>
                     </svg>
                  </button>
                  <button type="button" class="button_light bgb_midh" id="menu_text_aligncenter_btn" onclick="document.execCommand('justifyCenter')">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                        <path fill="currentColor" d="M0 1h16v2h-16zM3 4h10v2h-10zM3 10h10v2h-10zM0 7h16v2h-16zM0 13h16v2h-16z"></path>
                     </svg>
                  </button>
                  <button type="button" class="button_light bgb_midh" id="menu_text_alignright_btn" onclick="document.execCommand('justifyRight')">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                        <path fill="currentColor" d="M0 1h16v2h-16zM6 4h10v2h-10zM6 10h10v2h-10zM0 7h16v2h-16zM0 13h16v2h-16z"></path>
                     </svg>
                  </button>
                  <button type="button" class="button_light bgb_right" id="menu_text_alignjustify_btn" onclick="document.execCommand('justifyFull')">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                        <path fill="currentColor" d="M0 1h16v2h-16zM0 4h16v2h-16zM0 7h16v2h-16zM0 10h16v2h-16zM0 13h16v2h-16z"></path>
                     </svg>
                  </button>
               </div>
               <div id="menu_text_3">

               </div>

               <!-- DROP DOWN MENUS -->
               <div id="dd_font_fam" class="drop_down" isOpen="false" selectedIndex="ffb-0" owner="menu_text_fontfamily_btn">
               </div>


               <div id="dd_font_size" class="drop_down" isOpen="false" selectedIndex="fsb-4" owner="menu_text_size_btn">
                  <div id="fsb-1" class="menu_text_fontsize_dd_opt_btn" onClick='SetActiveFontSize(this)' fontSize="2">
                     <div id="fsb-ex-1" class="menu_text_fontsize_dd_opt_ex"
                     style="font-size: x-small;">Tiny</div>
                  </div>
                  <div id="fsb-2" class="menu_text_fontsize_dd_opt_btn" onClick='SetActiveFontSize(this)' fontSize="3">
                     <div id="fsb-ex-2" class="menu_text_fontsize_dd_opt_ex"
                     style="font-size: small;">Small</div>
                  </div>
                  <div id="fsb-3" class="menu_text_fontsize_dd_opt_btn isActive_dd" onClick='SetActiveFontSize(this)' fontSize="4">
                     <div id="fsb-ex-3" class="menu_text_fontsize_dd_opt_ex"
                     style="font-size: normal;">Normal</div>
                  </div>
                  <div id="fsb-4" class="menu_text_fontsize_dd_opt_btn" onClick='SetActiveFontSize(this)' fontSize="5">
                     <div id="fsb-ex-4" class="menu_text_fontsize_dd_opt_ex"
                     style="font-size: large;">Large</div>
                  </div>
                  <div id="fsb-5" class="menu_text_fontsize_dd_opt_btn" onClick='SetActiveFontSize(this)' fontSize="6">
                     <div id="fsb-ex-5" class="menu_text_fontsize_dd_opt_ex"
                     style="font-size: x-large;">Header</div>
                  </div>
                  <div id="fsb-6" class="menu_text_fontsize_dd_opt_btn" onClick='SetActiveFontSize(this)' fontSize="6">
                     <div id="fsb-ex-6" class="menu_text_fontsize_dd_opt_ex"
                     style="font-size: xx-large;">Title</div>
                  </div>
               </div>


               <div id="dd_style" class="drop_down" isOpen="false" owner="menu_text_style_btn">
                  <div id="menu_text_super_btn" class="menu_text_style_dd_opt_btn" onClick="ChangeStyle(this)">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                     <path fill="currentColor" fill="#000000" d="M12
                     3.219v0.781h2v1h-3v-2.281l2-0.938v-0.781h-2v-1h3v2.281zM10.563 4h-2.125l-2.938 2.938-2.938-2.938h-2.125l4 4-4 4h2.125l2.938-2.938 2.938 2.938h2.125l-4-4z"></path>
                     </svg>
                  </div>
                  <div id="menu_text_sub_btn" class="menu_text_style_dd_opt_btn" onClick="ChangeStyle(this)">
                     <svg width="16" height="16" viewBox="0 0 16 16">
                     <path fill="currentColor" fill="#000000" d="M12 14.219v0.781h2v1h-3v-2.281l2-0.938v-0.781h-2v-1h3v2.281zM10.563 4h-2.125l-2.938 2.938-2.938-2.938h-2.125l4 4-4 4h2.125l2.938-2.938 2.938 2.938h2.125l-4-4z"></path>
                     </svg>
                  </div>
               </div>
            </div>

            <div class="lower_shelf_menu" id="menu_insert">
               INSERT
            </div>


            <div class="lower_shelf_menu" id="menu_share">
               SHARE
            </div>


            <div class="lower_shelf_menu" id="menu_templates">
               TEMPLATES
            </div>
         </div>
      </div>



      <div id="lower_flex">
         <div id="tree_view" class="custom_scroll"></div>

         <div id="resize_bar" onmousedown="StartResizingTreeView(event)"></div>

         <div id="content_view_wrap">
            <div id="save_notification">Saving...</div>
            <div id="content_view" class="custom_scroll" contenteditable="true" spellcheck="true" oninput="ContentEdited()" onclick="CheckStyleAtAnchor()" onkeyup="CheckStyleAtAnchor()"></div>
         </div>
      </div>


      <!-- ============== -->
      <!-- DIALOG WINDOWS -->
      <!-- ============== -->
      <!-- TREEVIEW ITEM INTERACTIONS -->
      <!-- Set name of new item -->
      <div id="dw_name_new_TVI" class="dialog_window">
         <div class="dialog_header"></div>

         <div class="dialog_text">Enter a name for this page</div>

         <input type="text" placeholder="New name" class="dialog_prompt" onkeyup="CatchKeysTVINewName(this, event)" onblur="this.focus()">

         <div class="dialog_confirmation_wrapper">
            <div id="dw_new_name_cancel" class="dialog_cancel" onclick="OpenTVINewNameDialog()">Cancel</div>
            <div id="dw_new_name_confirm" class="dialog_confirm" onclick="NameNewNode();OpenTVINewNameDialog()">Confirm</div>
         </div>
      </div>

      <!-- Rename existing item -->
      <div id="dw_rename_TVI" class="dialog_window">
         <div class="dialog_header"></div>

         <div class="dialog_text">Enter a new name</div>

         <input type="text" placeholder="New name" class="dialog_prompt" onkeyup="CatchKeysTVIRename(this, event)" onblur="this.focus()">

         <div class="dialog_confirmation_wrapper">
            <div id="dw_rename_cancel" class="dialog_cancel" onclick="OpenTVIRenameDialog()">Cancel</div>
            <div id="dw_rename_confirm" class="dialog_confirm" onclick="RenameActiveNode();OpenTVIRenameDialog()">Confirm</div>
         </div>
      </div>

      <!-- Edit associations -->
      <div id="dw_associations_TVI" class="dialog_window">
         <div class="dialog_header"></div>

         <input type="text" placeholder="Search notebook" class="dialog_prompt" onblur="this.focus()">

         <div id="dw_associations_scroll" class="dialog_scroll custom_scroll">
         </div>

         <div class="dialog_confirmation_wrapper">
            <div id="dw_associations_cancel" class="dialog_cancel" onclick="OpenTVIAssociationsDialog(activeTVI, false)">Cancel</div>
            <div id="dw_associations_confirm" class="dialog_confirm" onclick="OpenTVIAssociationsDialog(activeTVI, true)">Confirm</div>
         </div>
      </div>

      <!-- Delete item -->
      <div id="dw_delete_TVI" class="dialog_window">
         <div class="dialog_header"></div>

         <div class="dialog_text">Delete this item?</div>

         <div class="dialog_confirmation_wrapper">
            <div id="dw_delete_cancel" class="dialog_cancel" onclick="OpenTVIDeleteDialog(activeTVI, false)">Cancel</div>
            <div id="dw_delete_confirm" class="dialog_confirm" onclick="OpenTVIDeleteDialog(activeTVI, true)">Confirm</div>
         </div>
      </div>

      <!-- Change item type -->
      <div id="dw_flip_TVI" class="dialog_window">
         <div class="dialog_header"></div>

         <div class="dialog_text">Change the type of this item?</div>

         <div class="dialog_confirmation_wrapper">
            <div id="dw_flip_cancel" class="dialog_cancel" onclick="OpenTVIFlipDialog(activeTVI, false)">Cancel</div>
            <div id="dw_flip_confirm" class="dialog_confirm" onclick="OpenTVIFlipDialog(activeTVI, true)">Confirm</div>
         </div>
      </div>

      <!-- Show item details -->
      <div id="dw_details_TVI" class="dialog_window">
         <div class="dialog_header"></div>

         <div id="dw_details_scroll" class="dialog_scroll custom_scroll">
         </div>

         <div class="dialog_confirmation_wrapper">
            <div id="dw_flip_confirm" class="dialog_confirm" onclick="OpenTVIDetailsDialog(activeTVI)">Confirm</div>
         </div>
      </div>
   </body>
</html>
